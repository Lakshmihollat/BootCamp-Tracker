<!-- === AIML TRACK PAGE === -->
<!-- File: aiml.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AIML Track</title>
  <link rel="stylesheet" href="style2.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <h2>AIML Weekly Learning Progress</h2>
  <div class="tabs">
    <div class="tab active" onclick="showTab(0)" id="week1-tab">Week 1</div>
    <div class="tab" onclick="showTab(1)">Week 2</div>
    <div class="tab" onclick="showTab(2)">Week 3</div>
    <div class="tab" onclick="showTab(3)">Week 4</div>
  </div>

  <div class="tab-content active">
    <h3>Week 1: Introduction to Python and Data Analysis</h3>
<p>Imagine you're helping a group of friends plan the perfect day to go hiking next week. 
You've been given a week's weather forecast data, including temperature, humidity, 
and wind speed. Your job is to analyze the data and recommend the most comfortable 
day to go out, using the formula below. </p><p> 
comfort = temperature * 0.4 + humidity * 0.4 + wind_speed * 0.2 
Optional: Try changing the weightage‚Äîwhat happens to the result? What kind of days 
are prioritized? </p>
<p>Dataset:</p>
<a id="dataset" class="github-link" href="https://drive.google.com/file/d/1_uv5ag0e80M461kfSumbFkB4OoEARW8W/view?usp=sharing" target="_blank">DATASET</a>

    <a id="week1-link" class="github-link" href="https://github.com/ACMW-Manipal/ML_SummerSchool_2025" target="_blank">Upload into GitHub</a>

  </div>
  <div class="tab-content">
    <h3>Week 2: coming soon....</h3>
    <p></p>
  </div>
  <div class="tab-content">
    <h3>Week 3: coming soon....</h3>
    <p></p>
  </div>
  <div class="tab-content">
    <h3>Week 4: coming soon</h3>
    <p></p>
  </div>

  <h2>Submit Your Work for Week 1</h2>
  <form id="progressForm">
    <input type="text" id="name" placeholder="Your Name" required><br>
    <select id="status" required>
  <option value="" disabled selected>Have you completed the task?</option>
  <option value="Yes"> Yes</option>
  <option value="No"> No</option>
</select><br>

    <input type="hidden" id="regno">
    <input type="hidden" id="week" value="Week 1">
    <button type="submit">Submit</button>
  </form>

  <p id="response"></p>

  <script>
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    function showTab(index) {
      tabs.forEach((tab, i) => {
        tab.classList.toggle('active', i === index);
        tabContents[i].classList.toggle('active', i === index);
      });
    }

    const urlParams = new URLSearchParams(window.location.search);
    const regno = urlParams.get("regno");
    if (regno) {
      document.getElementById("regno").value = regno;
      fetch(`https://script.google.com/macros/s/AKfycby-trb-r9LLsxrBOrl30jViT7onXHB85Ea_FnP5RijkcbFMFm0ZAKupiviXvkuC_uC-tA/exec?regno=${regno}`)
        .then(res => res.json())
        .then(data => {
          if (data.weeks && data.weeks.includes("Week 1")) {
            document.getElementById("week1-tab").classList.add("completed");
            document.getElementById("response").innerText = "‚úÖ You already submitted Week 1!";
            document.getElementById("week1-link").href = data.repo || "#";
            document.getElementById("week1-link").innerText = "üîó View Submitted Repo";
          }
        })
        .catch(err => {
          console.error(err);
          document.getElementById("response").innerText = "‚ö†Ô∏è Couldn't fetch your progress.";
        });
    } else {
      document.getElementById("response").innerText = "‚ùå Missing registration number in URL.";
    }

    document.getElementById("progressForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const formData = new URLSearchParams();
      formData.append("name", document.getElementById("name").value);
      formData.append("regno", regno);
      formData.append("repo", document.getElementById("status").value);
      formData.append("week", "Week 1");

      fetch("https://script.google.com/macros/s/AKfycby-trb-r9LLsxrBOrl30jViT7onXHB85Ea_FnP5RijkcbFMFm0ZAKupiviXvkuC_uC-tA/exec", {
        method: "POST",
        body: formData
      })
      .then(res => res.text())
      .then(msg => {
        document.getElementById("response").innerText = "‚úÖ Submitted successfully!";
        document.getElementById("week1-tab").classList.add("completed");
      })
      .catch(err => {
        console.error(err);
        document.getElementById("response").innerText = "‚ùå Submission failed.";
      });
    });
  </script>
</body>
</html>
